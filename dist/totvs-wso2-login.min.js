/**
* @license TOTVS | HTML Framework 12.1.17-fix1
* (c) 2015-2017 TOTVS S/A https://www.totvs.com
* License: Comercial
*/

!function(){"use strict";angular.module("totvsWso2Config",["totvsWso2Oauth"])}(),function(){"use strict";angular.module("totvsWso2Interceptor",["totvsWso2Oauth"])}(),function(){"use strict";angular.module("totvsWso2Login",["totvsWso2Oauth","totvsWso2Config","totvsWso2Interceptor"])}(),function(){"use strict";angular.module("totvsWso2Oauth",["ngCookies"])}(),function(){"use strict";function t(){function t(t,e,n){function r(){return e.get("totvsWso2Token")}function s(){return e.get("totvsWso2Type")}return{getAccessToken:function(){e.put("totvsWso2Redirect",window.location.href),window.location.href=o},getAuthorizationHeader:function(){var t=null;return r()&&s()&&(t=s()+" "+r()),console.log("WSO2 authorization header:"+t),t},setAccessToken:function(t){angular.isString(t)&&(e.put("totvsWso2Token",t),console.log("WSO2 access token: "+t))},setTokenType:function(t){angular.isString(t)&&(e.put("totvsWso2Type",t),console.log("WSO2 token type: "+t))},getUrl:function(){return e.get("totvsWso2Redirect")}}}var o,e={baseUrl:"",clientId:"",callbackUrl:null};this.configure=function(t){angular.extend(e,t),"/"===e.baseUrl.substr(-1)&&(e.baseUrl=e.baseUrl.slice(0,-1)),e.callbackUrl||(e.callbackUrl=$("base")[0].href+"totvsWso2Token"),o=e.baseUrl+"/oauth2/authorize?response_type=token&client_id="+e.clientId+"&redirect_uri="+e.callbackUrl,console.log("WSO2 redirect URI: "+o)},this.$get=t,t.$inject=["$cookies","$cookieStore","$location"]}angular.module("totvsWso2Oauth").provider("TotvsWso2Oauth",t),t.$inject=[]}(),function(){"use strict";function t(t,o,e,n){function r(t,o){var e,n,r,s,i,c=t.hash().split("&");for(e=0;e<c.length;e++)if((i=c[e].split("=")).length>1)switch(i[0]){case"access_token":n=i[1];break;case"token_type":r=i[1]}return n&&r&&(o.setAccessToken(n),o.setTokenType(r),s=o.getUrl()),s}t.interceptors.push("totvsWso2Interceptor"),n.html5Mode(!0),o.state({name:"totvsWso2Token",url:"/totvsWso2Token",resolve:{redirectUrl:r},controller:function(t,o){o&&(window.location.href=o)}}),r.$inject=["$location","TotvsWso2Oauth"]}angular.module("totvsWso2Config").config(t),t.$inject=["$httpProvider","$stateProvider","$urlRouterProvider","$locationProvider"]}(),function(){"use strict";function t(t,o,e){return{request:function(t){return t.headers=t.headers||{},!t.headers.hasOwnProperty("Authorization")&&e.getAuthorizationHeader()&&(t.headers.Authorization=e.getAuthorizationHeader()),t},responseError:function(t){return 401===t.status&&e.getAccessToken(),o.reject(t)}}}angular.module("totvsWso2Interceptor").factory("totvsWso2Interceptor",t),t.$inject=["$rootScope","$q","TotvsWso2Oauth"]}();